<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>

	<ui:composition template="/template/common.xhtml">

		<ui:define name="content">
			<h:form id="form">
<p:growl id="messages" showDetail="true"/> 

				<p:panel header="Crea Pacchetto Predefinito">

					<p:panelGrid columns="4">

						<h:outputLabel for="idPacchPred" value="idPacchPred: " />
						<p:inputText id="idPacchPred"
							value="#{pacchPredBean.testPacch.idPacchPred}" readonly="true" />

						<h:outputLabel for="descrizione" value="Descrizione: " />
						<p:inputText id="descrizione"
							value="#{pacchPredBean.testPacch.descrizione}" />
					</p:panelGrid>

					<br />
					<br />
					<br />

					<p:fieldset legend="Hotel" collapsed="true" toggleable="true"
						toggleSpeed="500">
						<h:form id="form2">
							<p:dataTable id="Hotel" var="escursione"
								value="#{escursioneBean.escursioneDataModel}" paginator="true"
								rows="5" selection="#{escursioneBean.escursioni}"
								editable="true" editMode="cell">

								<p:ajax event="cellEdit" listener="#{escursioneBean.onCellEdit}"
									update="" />


								<p:column selectionMode="multiple" style="width:2%" />

								<p:column headerText="Data Partenza" style="width:20%">

									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.dataPartenza}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.dataPartenza}" />
										</f:facet>
									</p:cellEditor>
								</p:column>

								<p:column headerText="Data Ritorno" style="width:20%">


									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.dataRitorno}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.dataRitorno}" />
										</f:facet>
									</p:cellEditor>
								</p:column>

								<p:column headerText="Costo" style="width:20%">

									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.costo}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.costo}" />
										</f:facet>
									</p:cellEditor>
								</p:column>

								<p:column headerText="Luogo" style="width:20%">
									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.luogo}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.luogo}" />
										</f:facet>
									</p:cellEditor>
								</p:column>
							</p:dataTable>

						</h:form>
					</p:fieldset>


					<p:fieldset legend="Escursione" collapsed="true" toggleable="true"
						toggleSpeed="500">
						<p:dataTable id="Escursione" var="escursione"
							value="#{escursioneBean.escursioneDataModel}" paginator="true"
							rows="5" selection="#{escursioneBean.escursioni}" editable="true"
							editMode="cell">

    <p:ajax event="cellEdit" listener="#{escursioneBean.onCellEdit}" update=":form:messages" /> 
							<!-- <p:ajax event="cellEdit" listener="#{escursioneBean.onCellEdit}"
								update="" />
 -->

							<p:column selectionMode="multiple" style="width:2%" />

							<p:column headerText="Data Partenza" style="width:39%">

								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{escursione.dataPartenza}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{escursione.dataPartenza}" style="width:100%" />
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Data Ritorno" style="width:39%">


								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{escursione.dataRitorno}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{escursione.dataRitorno}" style="width:100%" />
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Luogo" style="width:15%">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{escursione.luogo}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{escursione.luogo}" style="width:100%" />
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Costo" style="width:5%">

								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{escursione.costo}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{escursione.costo}" />
									</f:facet>
								</p:cellEditor>
							</p:column>
						</p:dataTable>

					</p:fieldset>

					<p:fieldset legend="Trasporto" collapsed="true" toggleable="true"
						toggleSpeed="500">
						<h:form id="form3">
							<p:dataTable id="Trasporto" var="escursione"
								value="#{escursioneBean.escursioneDataModel}" paginator="true"
								rows="5" selection="#{escursioneBean.escursioni}"
								editable="true" editMode="cell">

								<p:ajax event="cellEdit" listener="#{escursioneBean.onCellEdit}"
									update="" />


								<p:column selectionMode="multiple" style="width:2%" />

								<p:column headerText="Data Partenza" style="width:20%">

									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.dataPartenza}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.dataPartenza}" />
										</f:facet>
									</p:cellEditor>
								</p:column>

								<p:column headerText="Data Ritorno" style="width:20%">


									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.dataRitorno}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.dataRitorno}" />
										</f:facet>
									</p:cellEditor>
								</p:column>

								<p:column headerText="Costo" style="width:20%">

									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.costo}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.costo}" />
										</f:facet>
									</p:cellEditor>
								</p:column>

								<p:column headerText="Luogo" style="width:20%">
									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{escursione.luogo}" />
										</f:facet>
										<f:facet name="input">
											<p:inputText value="#{escursione.luogo}" />
										</f:facet>
									</p:cellEditor>
								</p:column>
							</p:dataTable>

						</h:form>
					</p:fieldset>


					<p:panelGrid columns="1">
						<p:commandButton id="Salva" value="Salva" icon="ui-icon-disk"
							update="" oncomplete="PF('multiCarDialog').show()" />
					</p:panelGrid>
				</p:panel>
			</h:form>
		</ui:define>

	</ui:composition>

</h:body>
</html>
