CREATE TABLE Escursione (IDPRODBASE INTEGER NOT NULL UNIQUE, DATAPARTENZA DATETIME NOT NULL, DATARITORNO DATETIME NOT NULL, LUOGO VARCHAR(45) NOT NULL, PRIMARY KEY (IDPRODBASE))
CREATE TABLE Hotel (IDPRODBASE INTEGER NOT NULL UNIQUE, CITTA VARCHAR(45) NOT NULL, STELLE INTEGER NOT NULL, TIPOCAMERA VARCHAR(45) NOT NULL, PRIMARY KEY (IDPRODBASE))
CREATE TABLE PacchPer (IDPACCHPER INTEGER NOT NULL UNIQUE, DataAcquisto DATETIME NOT NULL, IDPRODBASE INTEGER NOT NULL, ListaRegali VARCHAR(45) NOT NULL, idPacchPred INTEGER NOT NULL, Clienti VARCHAR(45) NOT NULL, PRIMARY KEY (IDPACCHPER))
CREATE TABLE PacchPred (IDPACCHPRED INTEGER NOT NULL UNIQUE, DESCRIZIONE LONGTEXT, PRIMARY KEY (IDPACCHPRED))
CREATE TABLE ProdBase (IDPRODBASE INTEGER NOT NULL UNIQUE, COSTO INTEGER, DESCRIZIONE LONGTEXT, PRIMARY KEY (IDPRODBASE))
CREATE TABLE Trasporto (IDPRODBASE INTEGER NOT NULL UNIQUE, CITTAPARTENZA VARCHAR(45) NOT NULL, CITTARITORNO VARCHAR(45) NOT NULL, DATAPARTENZA DATETIME NOT NULL, DATARITORNO DATETIME NOT NULL, PRIMARY KEY (IDPRODBASE))
CREATE TABLE Utente (MAIL VARCHAR(45) NOT NULL UNIQUE, COGNOME VARCHAR(45) NOT NULL, NOME VARCHAR(45) NOT NULL, PASSWORD VARCHAR(45) NOT NULL, TIPOUTENTE VARCHAR(45) NOT NULL, PRIMARY KEY (MAIL))
CREATE TABLE Composizione (idPacchPred INTEGER NOT NULL, idProdBase INTEGER NOT NULL, PRIMARY KEY (idPacchPred, idProdBase))
ALTER TABLE Escursione ADD CONSTRAINT FK_Escursione_IDPRODBASE FOREIGN KEY (IDPRODBASE) REFERENCES ProdBase (IDPRODBASE)
ALTER TABLE Hotel ADD CONSTRAINT FK_Hotel_IDPRODBASE FOREIGN KEY (IDPRODBASE) REFERENCES ProdBase (IDPRODBASE)
ALTER TABLE PacchPer ADD CONSTRAINT FK_PacchPer_IDPACCHPER FOREIGN KEY (IDPACCHPER) REFERENCES ProdBase (IDPRODBASE)
ALTER TABLE PacchPer ADD CONSTRAINT FK_PacchPer_Clienti FOREIGN KEY (Clienti) REFERENCES Utente (MAIL)
ALTER TABLE PacchPer ADD CONSTRAINT FK_PacchPer_idPacchPred FOREIGN KEY (idPacchPred) REFERENCES PacchPred (IDPACCHPRED)
ALTER TABLE Trasporto ADD CONSTRAINT FK_Trasporto_IDPRODBASE FOREIGN KEY (IDPRODBASE) REFERENCES ProdBase (IDPRODBASE)
ALTER TABLE Composizione ADD CONSTRAINT FK_Composizione_idProdBase FOREIGN KEY (idProdBase) REFERENCES ProdBase (IDPRODBASE)
ALTER TABLE Composizione ADD CONSTRAINT FK_Composizione_idPacchPred FOREIGN KEY (idPacchPred) REFERENCES PacchPred (IDPACCHPRED)
